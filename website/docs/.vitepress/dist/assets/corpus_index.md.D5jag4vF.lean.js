import{_ as Z,c as G,o as Y,ae as K}from"./chunks/framework.FAYkJyE3.js";(function(){var O,R;if(typeof window>"u")return;const w=new URLSearchParams(window.location.search),C=w.get("challenge_type")||"",A=w.get("condition")||"",g=document.getElementById("corpus-table-body"),o=document.getElementById("corpus-filter-challenge"),p=document.getElementById("corpus-filter-condition"),m=document.getElementById("corpus-search"),f=document.getElementById("corpus-group-toggle"),b=document.getElementById("corpus-active-filter"),y=document.getElementById("corpus-pagination"),M=(((R=(O=window.__VP_SITE_DATA__)==null?void 0:O.site)==null?void 0:R.base)||"/").replace(/\/$/,""),U=x("/corpus/v1.4/corpus-v1_4.json"),v=50;let j=[],_=[],k={key:"created_at",dir:"desc"},l=1;z();async function z(){if(g){B("Loading corpus index…");try{const s=await fetch(U,{cache:"no-store"});if(!s.ok)throw new Error("Failed to load corpus data: "+s.status);const t=await s.json();j=Array.isArray(t)?t:[],J(j),C&&o&&(o.value=C),A&&p&&(p.value=A),W(),u()}catch(s){console.error(s),B("Unable to load session index: "+((s==null?void 0:s.message)||String(s)))}}}function x(s){if(!s||s.startsWith("http://")||s.startsWith("https://"))return s;const t=s.startsWith("/")?s:"/"+s;return(M||"")+t}function B(s){g&&(g.innerHTML='<tr data-empty-row><td colspan="6"><em>'+s+"</em></td></tr>",y&&(y.textContent=""))}function J(s){if(!Array.isArray(s)||!s.length)return;const t=new Set,n=new Set;if(s.forEach(i=>{i!=null&&i.challenge_type&&t.add(i.challenge_type),i!=null&&i.condition&&n.add(i.condition)}),o){for(;o.options.length>1;)o.remove(1);Array.from(t).sort().forEach(i=>{const e=document.createElement("option");e.value=i,e.textContent=i,o.appendChild(e)})}if(p){for(;p.options.length>1;)p.remove(1);Array.from(n).sort().forEach(i=>{const e=document.createElement("option");e.value=i,e.textContent=i,p.appendChild(e)})}}function W(){o&&o.addEventListener("change",()=>{l=1,u()}),p&&p.addEventListener("change",()=>{l=1,u()}),m&&m.addEventListener("input",()=>{l=1,u()}),f&&f.addEventListener("change",()=>{l=1,u()}),document.querySelectorAll(".corpus-table thead th[data-sort-key]").forEach(t=>{t.addEventListener("click",()=>{const n=t.getAttribute("data-sort-key");n&&(k.key===n?k.dir=k.dir==="asc"?"desc":"asc":(k.key=n,k.dir=n==="created_at"?"desc":"asc"),N(),u())})}),N()}function u(){const s=o&&o.value||"",t=p&&p.value||"",n=m?m.value.trim().toLowerCase():"";_=j.filter(a=>!(s&&a.challenge_type!==s||t&&a.condition!==t||n&&![a.id,a.model,a.challenge_type,a.condition,a.provider].filter(Boolean).join(" ").toLowerCase().includes(n)));const i=_.length;if(!i){B("No sessions match the current filters."),b&&(b.textContent=V(0));return}_.sort((a,E)=>{const{key:h,dir:c}=k,F=a==null?void 0:a[h],S=E==null?void 0:E[h];let P=0;if(h==="created_at"){const I=F&&Date.parse(F)||0,T=S&&Date.parse(S)||0;P=I-T}else{const I=(F??"").toString(),T=(S??"").toString();P=I.localeCompare(T)}return c==="asc"?P:-P});const e=Math.max(1,Math.ceil(i/v));l>e&&(l=e);const r=(l-1)*v,d=r+v,q=_.slice(r,d);$(q),H(i,e),b&&(b.textContent=V(i))}function $(s){if(!g)return;if(!Array.isArray(s)||!s.length){B("No sessions to display.");return}const t=document.createDocumentFragment(),n=f&&f.checked;let i=null;s.forEach(e=>{const r=e.challenge_type||"";if(n&&r&&r!==i){i=r;const c=document.createElement("tr");c.className="corpus-group-row";const F=document.createElement("td");F.colSpan=6,F.textContent=r,c.appendChild(F),t.appendChild(c)}const d=document.createElement("tr");d.className="corpus-row",d.appendChild(D(e.id||"","corpus-id")),d.appendChild(L(e.challenge_type||"","corpus-badge--experiment")),d.appendChild(L(e.condition||"","corpus-badge--condition")),d.appendChild(D(e.model||"",""));const q=document.createElement("td");if(e.created_at){const c=document.createElement("time");c.dateTime=e.created_at,c.textContent=e.created_at,q.appendChild(c)}else q.textContent="—";d.appendChild(q);const a=document.createElement("td");a.className="corpus-links";const E=document.createElement("a");E.href=x("/corpus/session?id="+encodeURIComponent(e.id||"")),E.textContent="View";const h=document.createElement("a");e.path?h.href=x(e.path):e.id?h.href=x("/corpus/v1.4/sessions/"+encodeURIComponent(e.id)+".json"):h.href="#",h.target="_blank",h.rel="noopener",h.textContent="JSON",a.appendChild(E),a.appendChild(h),d.appendChild(a),t.appendChild(d)}),g.innerHTML="",g.appendChild(t)}function D(s,t){const n=document.createElement("td");t&&(n.className=t);const i=document.createElement("code");return i.textContent=s||"",n.appendChild(i),n}function L(s,t){const n=document.createElement("td"),i=document.createElement("span");return i.className="corpus-badge "+(t||""),i.textContent=s||"—",n.appendChild(i),n}function H(s,t){if(!y)return;if(s<=v){y.textContent="";return}y.innerHTML="";const n=document.createElement("span");n.className="corpus-pagination-info",n.textContent="Page "+l+" of "+t+" — "+s+" sessions",y.appendChild(n);const i=document.createElement("div");i.className="corpus-pagination-controls";const e=document.createElement("button");e.type="button",e.textContent="Prev",e.disabled=l<=1,e.addEventListener("click",()=>{l>1&&(l-=1,u())}),i.appendChild(e);const r=document.createElement("button");r.type="button",r.textContent="Next",r.disabled=l>=t,r.addEventListener("click",()=>{l<t&&(l+=1,u())}),i.appendChild(r),y.appendChild(i)}function N(){document.querySelectorAll(".corpus-table thead th[data-sort-key]").forEach(t=>{const n=t.getAttribute("data-sort-key");if(!n)return;const i=n===k.key;t.classList.toggle("corpus-sort-active",i),t.setAttribute("aria-sort",i?k.dir==="asc"?"ascending":"descending":"none")})}function V(s){const t=[],n=o&&o.value||"",i=p&&p.value||"",e=m?m.value.trim():"";return n&&t.push("challenge_type="+n),i&&t.push("condition="+i),e&&t.push('search="'+e+'"'),t.length?"Filters: "+t.join(", ")+" — "+s+" sessions.":s+" sessions."}})();const is=JSON.parse('{"title":"Corpus","description":"","frontmatter":{"title":"Corpus"},"headers":[],"relativePath":"corpus/index.md","filePath":"corpus/index.md","lastUpdated":1763293075000}'),Q={name:"corpus/index.md"};function X(w,C,A,g,o,p){return Y(),G("div",null,[...C[0]||(C[0]=[K("",65)])])}const ts=Z(Q,[["render",X]]);export{is as __pageData,ts as default};
