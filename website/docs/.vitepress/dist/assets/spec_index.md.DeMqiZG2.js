import{_ as t,c as a,o,ae as s}from"./chunks/framework.FAYkJyE3.js";const u=JSON.parse('{"title":"Specification","description":"","frontmatter":{"title":"Specification","outline":[2,3]},"headers":[],"relativePath":"spec/index.md","filePath":"spec/index.md","lastUpdated":1763196129000}'),n={name:"spec/index.md"};function i(r,e,l,c,p,d){return o(),a("div",null,[...e[0]||(e[0]=[s(`<blockquote><p>The canonical machine-readable copy lives at <a href="https://cdn.jsdelivr.net/gh/cbassuarez/viable-prompt-protocol@main/spec/latest/spec.md" target="_blank" rel="noreferrer">https://cdn.jsdelivr.net/gh/cbassuarez/viable-prompt-protocol@main/spec/latest/spec.md</a>. Versioned modules and examples remain under <a href="https://github.com/cbassuarez/viable-prompt-protocol/tree/main/docs/spec/v1.4" target="_blank" rel="noreferrer"><code>docs/spec/v1.4/</code></a>.</p></blockquote><p>The Viable Prompt Protocol (VPP) specification defines the normative behaviors expected from both human operators and assistant models when participating in protocol-compliant conversations. This document is authoritative and should be treated as the source of truth for all VPP implementations.</p><div class="language-text vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>VPP_VERSION: 1.4</span></span>
<span class="line"><span>TAGS_USER: &lt;g&gt;, &lt;q&gt;, &lt;o&gt;, &lt;c&gt;, &lt;o_f&gt;, &lt;e&gt;, &lt;e_o&gt;</span></span>
<span class="line"><span>TAGS_ASSISTANT: &lt;g&gt;, &lt;q&gt;, &lt;o&gt;, &lt;c&gt;, &lt;o_f&gt;</span></span>
<span class="line"><span>FIRST_LINE: &quot;!&lt;tag&gt; [--modifier ...]&quot;</span></span>
<span class="line"><span>FOOTER_FORMAT: [Version=vX.Y | Tag=&lt;tag_n&gt; | Sources=&lt;...&gt; | Assumptions=&lt;n&gt; | Cycle=&lt;i&gt;/3 | Locus=&lt;name?&gt;]</span></span></code></pre></div><h2 id="introduction" tabindex="-1">Introduction <a class="header-anchor" href="#introduction" aria-label="Permalink to &quot;Introduction&quot;">​</a></h2><p>VPP is a conversation protocol that constrains the structure of human and assistant turns through mandatory first-line tags, optional modifiers, and a required compliance footer. The goals are repeatability, machine legibility, and clear traceability across multi-turn cycles.</p><h2 id="scope-and-terminology" tabindex="-1">Scope and terminology <a class="header-anchor" href="#scope-and-terminology" aria-label="Permalink to &quot;Scope and terminology&quot;">​</a></h2><ul><li><strong>Tag</strong> — A symbol describing the role of the next speaker (e.g., <code>&lt;q&gt;</code> for questioning).</li><li><strong>Modifier</strong> — Optional flag(s) that adjust expectations for the response (e.g., <code>--major</code>).</li><li><strong>Cycle</strong> — A bounded sequence of turns, typically three exchanges, that advances the workflow.</li><li><strong>Locus</strong> — The seat or perspective from which an agent is operating (human or assistant).</li><li><strong>Footer</strong> — The terminal line of a message summarizing compliance data.</li></ul><h2 id="command-line-grammar" tabindex="-1">Command line grammar <a class="header-anchor" href="#command-line-grammar" aria-label="Permalink to &quot;Command line grammar&quot;">​</a></h2><p>The user MUST begin each cycle with a tag line matching the grammar below:</p><div class="language-bnf vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bnf</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>command-line ::= bang tag modifiers? newline</span></span>
<span class="line"><span>bang ::= &quot;!&quot;</span></span>
<span class="line"><span>tag ::= &quot;&lt;&quot; identifier &quot;&gt;&quot;</span></span>
<span class="line"><span>identifier ::= letter ( letter | digit | &quot;_&quot; )*</span></span>
<span class="line"><span>modifiers ::= modifier+</span></span>
<span class="line"><span>modifier ::= &quot;--&quot; identifier ( &quot;=&quot; value )?</span></span>
<span class="line"><span>value ::= quoted | unquoted</span></span>
<span class="line"><span>quoted ::= &#39;&quot;&#39; chars &#39;&quot;&#39;</span></span>
<span class="line"><span>unquoted ::= ( letter | digit | &quot;_&quot; | &quot;-&quot; )+</span></span></code></pre></div><h2 id="tags" tabindex="-1">Tags <a class="header-anchor" href="#tags" aria-label="Permalink to &quot;Tags&quot;">​</a></h2><p>Tags are grouped into loci that signal intent:</p><ul><li><strong>Gather (<code>&lt;g&gt;</code>)</strong> — Request background context or clarifications.</li><li><strong>Question (<code>&lt;q&gt;</code>)</strong> — Pose a primary question or subproblem.</li><li><strong>Output (<code>&lt;o&gt;</code>)</strong> — Require the assistant to produce a deliverable.</li><li><strong>Critique (<code>&lt;c&gt;</code>)</strong> — Evaluate previous outputs for correctness and completeness.</li><li><strong>Finalize (<code>&lt;o_f&gt;</code>)</strong> — Provide the final, vetted answer.</li><li><strong>Exception (<code>&lt;e&gt;</code>, <code>&lt;e_o&gt;</code>)</strong> — Signal user- or operator-originating errors.</li></ul><p>Each assistant response MUST echo the incoming tag on its first line.</p><h2 id="modifiers" tabindex="-1">Modifiers <a class="header-anchor" href="#modifiers" aria-label="Permalink to &quot;Modifiers&quot;">​</a></h2><p>Modifiers refine tag intent and expectation:</p><ul><li><code>--correct</code> / <code>--incorrect</code> — Confirm or deny correctness of prior outputs.</li><li><code>--minor</code> / <code>--major</code> — Signal the severity of required changes.</li><li><code>--&lt;tag&gt;</code> — Request a branch to a specific tag locus in the next cycle.</li><li><code>--assumptions=&lt;n&gt;</code> — Declare expected assumption count in the footer.</li></ul><p>Modifiers SHOULD be sparse and mutually coherent. Conflicting modifiers MUST be resolved before issuing the command.</p><h2 id="pipelines-and-loci" tabindex="-1">Pipelines and loci <a class="header-anchor" href="#pipelines-and-loci" aria-label="Permalink to &quot;Pipelines and loci&quot;">​</a></h2><p>Pipelines chain tags into predictable sequences, often using loci labels such as <code>research</code>, <code>draft</code>, or <code>eval</code>. A canonical pipeline is <code>&lt;g&gt; → &lt;q&gt; → &lt;o&gt; → &lt;c&gt; → &lt;o_f&gt;</code>, enabling preparation, inquiry, production, critique, and delivery. Loci metadata may be included in modifiers or footers to trace responsibility boundaries.</p><h2 id="error-modes-and-recovery" tabindex="-1">Error modes and recovery <a class="header-anchor" href="#error-modes-and-recovery" aria-label="Permalink to &quot;Error modes and recovery&quot;">​</a></h2><p>Error tags <code>&lt;e&gt;</code> and <code>&lt;e_o&gt;</code> capture deviations. When the assistant detects an invalid state, it MUST emit <code>&lt;e&gt;</code> and describe the issue. The user may follow with <code>&lt;e_o&gt;</code> to report operator-originating problems. Recovery typically involves returning to <code>&lt;g&gt;</code> or <code>&lt;q&gt;</code> with corrective modifiers.</p><h2 id="compliance-footer" tabindex="-1">Compliance footer <a class="header-anchor" href="#compliance-footer" aria-label="Permalink to &quot;Compliance footer&quot;">​</a></h2><p>Every assistant message MUST end with a footer matching the schema <code>[Version=vX.Y | Tag=&lt;tag_n&gt; | Sources=&lt;...&gt; | Assumptions=&lt;n&gt; | Cycle=&lt;i&gt;/3 | Locus=&lt;name?&gt;]</code>. Missing fields or malformed entries constitute protocol violations and should be escalated through critique cycles.</p><h2 id="examples" tabindex="-1">Examples <a class="header-anchor" href="#examples" aria-label="Permalink to &quot;Examples&quot;">​</a></h2><div class="language-text vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>!&lt;q&gt; --major</span></span>
<span class="line"><span>&lt;q&gt;</span></span>
<span class="line"><span>Please outline the primary risk factors for protocol drift.</span></span>
<span class="line"><span>[Version=v1.4 | Tag=&lt;q&gt; | Sources=preprint-2024-02 | Assumptions=1 | Cycle=1/3 | Locus=assistant]</span></span></code></pre></div><div class="language-text vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>!&lt;c&gt; --correct --minor</span></span>
<span class="line"><span>&lt;c&gt;</span></span>
<span class="line"><span>Feedback acknowledged. Minor updates applied to the summary section.</span></span>
<span class="line"><span>[Version=v1.4 | Tag=&lt;c&gt; | Sources=prior-cycle | Assumptions=0 | Cycle=2/3 | Locus=assistant]</span></span></code></pre></div><h2 id="versioning" tabindex="-1">Versioning <a class="header-anchor" href="#versioning" aria-label="Permalink to &quot;Versioning&quot;">​</a></h2><p>VPP versions follow semantic increments. Minor versions introduce new modifiers or clarifications; major versions may revise tag semantics or footer structure. Implementers SHOULD record the version in the footer and upgrade only after validating compatibility.</p>`,29)])])}const h=t(n,[["render",i]]);export{u as __pageData,h as default};
