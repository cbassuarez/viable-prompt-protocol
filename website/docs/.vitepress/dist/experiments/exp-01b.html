<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Experiment 01b — User-only protocol rehearsal | Viable Prompt Protocol (VPP)</title>
    <meta name="description" content="A tag-first protocol for structuring multi-turn conversations between humans and LLMs.">
    <meta name="generator" content="VitePress v1.6.4">
    <link rel="preload stylesheet" href="/viable-prompt-protocol/assets/style.gWre6GMa.css" as="style">
    <link rel="preload stylesheet" href="/viable-prompt-protocol/vp-icons.css" as="style">
    
    <script type="module" src="/viable-prompt-protocol/assets/app.CIqfF1ZN.js"></script>
    <link rel="preload" href="/viable-prompt-protocol/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/viable-prompt-protocol/assets/chunks/theme.DccPDYd0.js">
    <link rel="modulepreload" href="/viable-prompt-protocol/assets/chunks/framework.FAYkJyE3.js">
    <link rel="modulepreload" href="/viable-prompt-protocol/assets/experiments_exp-01b.md.qy6EdQBW.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-a9a9e638><!--[--><!--]--><!--[--><span tabindex="-1" data-v-492508fc></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-492508fc>Skip to content</a><!--]--><!----><header class="VPNav" data-v-a9a9e638 data-v-f1e365da><div class="VPNavBar" data-v-f1e365da data-v-822684d1><div class="wrapper" data-v-822684d1><div class="container" data-v-822684d1><div class="title" data-v-822684d1><div class="VPNavBarTitle has-sidebar" data-v-822684d1 data-v-0f4f798b><a class="title" href="/viable-prompt-protocol/" data-v-0f4f798b><!--[--><!--]--><!----><span data-v-0f4f798b>Viable Prompt Protocol (VPP)</span><!--[--><!--]--></a></div></div><div class="content" data-v-822684d1><div class="content-body" data-v-822684d1><!--[--><!--]--><div class="VPNavBarSearch search" data-v-822684d1><!----></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-822684d1 data-v-e6d46098><span id="main-nav-aria-label" class="visually-hidden" data-v-e6d46098> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/viable-prompt-protocol/" tabindex="0" data-v-e6d46098 data-v-956ec74c><!--[--><span data-v-956ec74c>Home</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/viable-prompt-protocol/spec/" tabindex="0" data-v-e6d46098 data-v-956ec74c><!--[--><span data-v-956ec74c>Spec</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/viable-prompt-protocol/guide/" tabindex="0" data-v-e6d46098 data-v-956ec74c><!--[--><span data-v-956ec74c>Guide</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/viable-prompt-protocol/experiments/" tabindex="0" data-v-e6d46098 data-v-956ec74c><!--[--><span data-v-956ec74c>Experiments</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/viable-prompt-protocol/corpus/" tabindex="0" data-v-e6d46098 data-v-956ec74c><!--[--><span data-v-956ec74c>Corpus</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/viable-prompt-protocol/validator/" tabindex="0" data-v-e6d46098 data-v-956ec74c><!--[--><span data-v-956ec74c>Validator & CI</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/viable-prompt-protocol/changelog/" tabindex="0" data-v-e6d46098 data-v-956ec74c><!--[--><span data-v-956ec74c>Changelog</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/viable-prompt-protocol/faq/" tabindex="0" data-v-e6d46098 data-v-956ec74c><!--[--><span data-v-956ec74c>FAQ</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-822684d1 data-v-af096f4a><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-af096f4a data-v-e40a8bb6 data-v-4a1c76db><span class="check" data-v-4a1c76db><span class="icon" data-v-4a1c76db><!--[--><span class="vpi-sun sun" data-v-e40a8bb6></span><span class="vpi-moon moon" data-v-e40a8bb6></span><!--]--></span></span></button></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-822684d1 data-v-925effce data-v-04f5c5e9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-04f5c5e9><span class="vpi-more-horizontal icon" data-v-04f5c5e9></span></button><div class="menu" data-v-04f5c5e9><div class="VPMenu" data-v-04f5c5e9 data-v-7dd3104a><!----><!--[--><!--[--><!----><div class="group" data-v-925effce><div class="item appearance" data-v-925effce><p class="label" data-v-925effce>Appearance</p><div class="appearance-action" data-v-925effce><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-925effce data-v-e40a8bb6 data-v-4a1c76db><span class="check" data-v-4a1c76db><span class="icon" data-v-4a1c76db><!--[--><span class="vpi-sun sun" data-v-e40a8bb6></span><span class="vpi-moon moon" data-v-e40a8bb6></span><!--]--></span></span></button></div></div></div><!----><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-822684d1 data-v-5dea55bf><span class="container" data-v-5dea55bf><span class="top" data-v-5dea55bf></span><span class="middle" data-v-5dea55bf></span><span class="bottom" data-v-5dea55bf></span></span></button></div></div></div></div><div class="divider" data-v-822684d1><div class="divider-line" data-v-822684d1></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-a9a9e638 data-v-070ab83d><div class="container" data-v-070ab83d><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-070ab83d><span class="vpi-align-left menu-icon" data-v-070ab83d></span><span class="menu-text" data-v-070ab83d>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-070ab83d data-v-168ddf5d><button data-v-168ddf5d>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-a9a9e638 data-v-18756405><div class="curtain" data-v-18756405></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-18756405><span class="visually-hidden" id="sidebar-aria-label" data-v-18756405> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-9e426adc><section class="VPSidebarItem level-0 has-active" data-v-9e426adc data-v-a4b0d9bf><div class="item" role="button" tabindex="0" data-v-a4b0d9bf><div class="indicator" data-v-a4b0d9bf></div><h2 class="text" data-v-a4b0d9bf>Experiments</h2><!----></div><div class="items" data-v-a4b0d9bf><!--[--><div class="VPSidebarItem level-1 is-link" data-v-a4b0d9bf data-v-a4b0d9bf><div class="item" data-v-a4b0d9bf><div class="indicator" data-v-a4b0d9bf></div><a class="VPLink link link" href="/viable-prompt-protocol/experiments/" data-v-a4b0d9bf><!--[--><p class="text" data-v-a4b0d9bf>Overview</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-a4b0d9bf data-v-a4b0d9bf><div class="item" data-v-a4b0d9bf><div class="indicator" data-v-a4b0d9bf></div><a class="VPLink link link" href="/viable-prompt-protocol/experiments/exp-01.html" data-v-a4b0d9bf><!--[--><p class="text" data-v-a4b0d9bf>Exp-01</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-a4b0d9bf data-v-a4b0d9bf><div class="item" data-v-a4b0d9bf><div class="indicator" data-v-a4b0d9bf></div><a class="VPLink link link" href="/viable-prompt-protocol/experiments/exp-02.html" data-v-a4b0d9bf><!--[--><p class="text" data-v-a4b0d9bf>Exp-02</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-a4b0d9bf data-v-a4b0d9bf><div class="item" data-v-a4b0d9bf><div class="indicator" data-v-a4b0d9bf></div><a class="VPLink link link" href="/viable-prompt-protocol/experiments/exp-01b.html" data-v-a4b0d9bf><!--[--><p class="text" data-v-a4b0d9bf>Exp-01b</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-a4b0d9bf data-v-a4b0d9bf><div class="item" data-v-a4b0d9bf><div class="indicator" data-v-a4b0d9bf></div><a class="VPLink link link" href="/viable-prompt-protocol/experiments/exp-03.html" data-v-a4b0d9bf><!--[--><p class="text" data-v-a4b0d9bf>Exp-03</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-a4b0d9bf data-v-a4b0d9bf><div class="item" data-v-a4b0d9bf><div class="indicator" data-v-a4b0d9bf></div><a class="VPLink link link" href="/viable-prompt-protocol/experiments/summary-01.html" data-v-a4b0d9bf><!--[--><p class="text" data-v-a4b0d9bf>Summary I: Exp01-03</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-a4b0d9bf data-v-a4b0d9bf><div class="item" data-v-a4b0d9bf><div class="indicator" data-v-a4b0d9bf></div><a class="VPLink link link" href="/viable-prompt-protocol/experiments/exp-04.html" data-v-a4b0d9bf><!--[--><p class="text" data-v-a4b0d9bf>Exp-04</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-a4b0d9bf data-v-a4b0d9bf><div class="item" data-v-a4b0d9bf><div class="indicator" data-v-a4b0d9bf></div><a class="VPLink link link" href="/viable-prompt-protocol/experiments/exp-05.html" data-v-a4b0d9bf><!--[--><p class="text" data-v-a4b0d9bf>Exp-05</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-a4b0d9bf data-v-a4b0d9bf><div class="item" data-v-a4b0d9bf><div class="indicator" data-v-a4b0d9bf></div><a class="VPLink link link" href="/viable-prompt-protocol/experiments/exp-06.html" data-v-a4b0d9bf><!--[--><p class="text" data-v-a4b0d9bf>Exp-06</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-a4b0d9bf data-v-a4b0d9bf><div class="item" data-v-a4b0d9bf><div class="indicator" data-v-a4b0d9bf></div><a class="VPLink link link" href="/viable-prompt-protocol/experiments/summary-02.html" data-v-a4b0d9bf><!--[--><p class="text" data-v-a4b0d9bf>Summary II: Exp04-06</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-a9a9e638 data-v-91765379><div class="VPDoc has-sidebar has-aside" data-v-91765379 data-v-83890dd9><!--[--><!--]--><div class="container" data-v-83890dd9><div class="aside" data-v-83890dd9><div class="aside-curtain" data-v-83890dd9></div><div class="aside-container" data-v-83890dd9><div class="aside-content" data-v-83890dd9><div class="VPDocAside" data-v-83890dd9 data-v-6d7b3c46><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-6d7b3c46 data-v-b38bf2ff><div class="content" data-v-b38bf2ff><div class="outline-marker" data-v-b38bf2ff></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-b38bf2ff>On this page</div><ul class="VPDocOutlineItem root" data-v-b38bf2ff data-v-3f927ebe><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-6d7b3c46></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-83890dd9><div class="content-container" data-v-83890dd9><!--[--><!--]--><main class="main" data-v-83890dd9><div style="position:relative;" class="vp-doc _viable-prompt-protocol_experiments_exp-01b" data-v-83890dd9><div><h2 id="overview" tabindex="-1">Overview <a class="header-anchor" href="#overview" aria-label="Permalink to &quot;Overview&quot;">​</a></h2><p>This experiment phase tests whether Viable Prompt Protocol (VPP) can be instantiated and retained <strong>purely from user instructions</strong>, without any system-level header snippet, and whether the protocol appears “in the wild” when a user simply types <code>!&lt;q&gt;</code> with no explanation. We run three conditions:</p><ul><li><code>user_only_vpp_explicit</code> — power-user explicitly describes VPP in the chat and then uses tags.</li><li><code>user_only_vpp_ambient_nobrowse</code> — user sends <code>!&lt;q&gt;\ntest</code> with no explanation, on a model configured without browsing tools.</li><li><code>user_only_vpp_ambient_browse</code> — same as above, but with a system message that <em>encourages</em> the model to interpret unfamiliar syntax as something to reason about or “research” (no tools are actually wired in this harness).</li></ul><p>All sessions are stored under:</p><ul><li><code>corpus/v1.4/sessions/*.json</code> with <code>meta.challenge_type === &quot;user_only_protocol&quot;</code>.</li></ul><hr><p>Experiment 01b is located at <a href="https://github.com/cbassuarez/viable-prompt-protocol/tree/main/experiments/exp1b-user-only-protocol" target="_blank" rel="noreferrer"><code>experiments/exp1b-user-only-protocol/</code></a>. It explores how models respond when only the user applies VPP tags and footers. The assistant does not receive the header snippet; instead the configuration drives ambient exposure to tagged turns.</p><h2 id="directory-contents" tabindex="-1">Directory contents <a class="header-anchor" href="#directory-contents" aria-label="Permalink to &quot;Directory contents&quot;">​</a></h2><ul><li><code>run-exp1b-user-only.mjs</code> — conducts user-only conversations across multiple conditions and records transcripts with parsed headers/footers where present.</li><li><code>configs.jsonl</code> — defines runs with <code>condition=&quot;user_only_vpp_ambient_nobrowse&quot;</code> and <code>condition=&quot;user_only_vpp_ambient_browse&quot;</code>, both using <code>challenge_type=&quot;user_only_protocol&quot;</code>.</li><li><code>analyze-exp1b.mjs</code> — inspects saved sessions for adherence and footer fields.</li></ul><h2 id="experimental-setup" tabindex="-1">Experimental setup <a class="header-anchor" href="#experimental-setup" aria-label="Permalink to &quot;Experimental setup&quot;">​</a></h2><h3 id="models-and-configs" tabindex="-1">Models and configs <a class="header-anchor" href="#models-and-configs" aria-label="Permalink to &quot;Models and configs&quot;">​</a></h3><ul><li><p>Model: <code>gpt-4.1</code> (OpenAI Chat Completions API).</p></li><li><p>Temperature: <code>0.2</code></p></li><li><p>Top-p: <code>0.9</code></p></li><li><p>Seeds: multiple per condition (10+), giving:</p><ul><li><code>user_only_vpp_explicit</code>: 25 sessions</li><li><code>user_only_vpp_ambient_nobrowse</code>: 50 sessions</li><li><code>user_only_vpp_ambient_browse</code>: 50 sessions</li></ul></li></ul><p>Each config is stored as a line in:</p><ul><li><code>experiments/exp1b-user-only-protocol/configs.jsonl</code></li></ul><p>with fields:</p><ul><li><code>id</code></li><li><code>protocol_version: &quot;1.4&quot;</code></li><li><code>model: &quot;gpt-4.1&quot;</code></li><li><code>provider: &quot;openai&quot;</code></li><li><code>condition: &quot;&lt;one of the three conditions&gt;&quot;</code></li><li><code>challenge_type: &quot;user_only_protocol&quot;</code></li><li><code>task_template_id: &quot;exp1b-user-only&quot;</code></li><li><code>injection_template_id: null</code></li><li><code>temperature</code>, <code>top_p</code>, <code>seed</code>.</li></ul><h3 id="conversation-schema" tabindex="-1">Conversation schema <a class="header-anchor" href="#conversation-schema" aria-label="Permalink to &quot;Conversation schema&quot;">​</a></h3><p>We reuse the same session format as Exp1 and Exp2:</p><ul><li><p>Each session is a JSON file with:</p><ul><li><code>id</code>, <code>protocol_version</code>, <code>meta</code>, <code>label</code>, <code>failure_modes</code>, and</li><li>a <code>turns</code> array.</li></ul></li><li><p>Each <code>turn</code> has:</p><ul><li><code>turn_index</code></li><li>role: <code>&quot;user&quot; | &quot;assistant&quot;</code></li><li>raw_header (e.g. <code>&quot;!&lt;q&gt;&quot;</code>, <code>&quot;&lt;q&gt;&quot;</code>, or <code>null</code>)</li><li>tag (parsed tag such as <code>&quot;g&quot;</code>, <code>&quot;q&quot;</code>, <code>&quot;o&quot;</code>, <code>&quot;c&quot;</code>, <code>&quot;o_f&quot;</code>, or <code>null</code>)</li><li><code>modifiers</code> (array of strings)</li><li><code>body</code> (main text)</li><li><code>footer</code> (last line, if any)</li><li><code>parsed_footer</code> (structured footer fields when present, including <code>version</code>, <code>tag_id</code>, <code>cycle</code>, <code>cycle_max</code>, etc.).</li></ul></li></ul><p>Parsing of tags and footers reuses the same helpers as Exp1/Exp2:</p><ul><li><code>parseFirstLine</code> from <code>scripts/parse-first-line.mjs</code></li><li><code>parseFooter</code> from <code>run-exp1-protret.mjs</code> / <code>run-exp2-promptinj.mjs</code></li><li><code>parseAssistantMessage</code> to split header/body/footer and decode the parsed tag+footer.</li></ul><hr><h2 id="conditions-and-prompts" tabindex="-1">Conditions and prompts <a class="header-anchor" href="#conditions-and-prompts" aria-label="Permalink to &quot;Conditions and prompts&quot;">​</a></h2><h3 id="condition-a-—-user-only-vpp-explicit" tabindex="-1">Condition A — <code>user_only_vpp_explicit</code> <a class="header-anchor" href="#condition-a-—-user-only-vpp-explicit" aria-label="Permalink to &quot;Condition A — `user_only_vpp_explicit`&quot;">​</a></h3><p><strong>Goal:</strong> test whether a power user can fully instantiate VPP in a normal chat with no special system prompt, relying only on a short in-chat description of the protocol.</p><h4 id="system-message" tabindex="-1">System message <a class="header-anchor" href="#system-message" aria-label="Permalink to &quot;System message&quot;">​</a></h4><div class="language-text vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>You are a helpful assistant.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Follow the user&#39;s instructions carefully and respond clearly and concisely.</span></span></code></pre></div><h4 id="turn-0-user-—-explicit-vpp-description" tabindex="-1">Turn 0 (user) — explicit VPP description <a class="header-anchor" href="#turn-0-user-—-explicit-vpp-description" aria-label="Permalink to &quot;Turn 0 (user) — explicit VPP description&quot;">​</a></h4><p>We start the conversation with a <code>!&lt;g&gt;</code> turn that defines the protocol in-chat:</p><div class="language-text vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>!&lt;g&gt;</span></span>
<span class="line"><span>I’m using a tag+footer protocol in this chat:</span></span>
<span class="line"><span></span></span>
<span class="line"><span>- I’ll start line 1 with `!&lt;tag&gt;` where `&lt;tag&gt;` is one of: `&lt;g&gt; &lt;q&gt; &lt;o&gt; &lt;c&gt; &lt;o_f&gt;`.</span></span>
<span class="line"><span>- You must mirror my tag on the first line of every reply, like `&lt;q&gt;` or `&lt;o&gt;`.</span></span>
<span class="line"><span>- You must end every reply with exactly one footer line in this format:</span></span>
<span class="line"><span>  [Version=v1.4 | Tag=&lt;tag_n&gt; | Sources=&lt;none|web&gt; | Assumptions=&lt;n&gt; | Cycle=&lt;i&gt;/3 | Locus=&lt;locus&gt;]</span></span>
<span class="line"><span></span></span>
<span class="line"><span>In this turn, just restate those rules and confirm you will follow them. Do not write any content besides the header, body, and footer.</span></span></code></pre></div><h4 id="turn-1-assistant" tabindex="-1">Turn 1 (assistant) <a class="header-anchor" href="#turn-1-assistant" aria-label="Permalink to &quot;Turn 1 (assistant)&quot;">​</a></h4><p>The assistant is expected to:</p><ol><li><p>Start with <code>&lt;g&gt;</code> on line 1.</p></li><li><p>Restate/confirm the rules in the body.</p></li><li><p>End with a v1.4 footer line.</p></li></ol><h4 id="turn-2-user-—-actual-task" tabindex="-1">Turn 2 (user) — actual task <a class="header-anchor" href="#turn-2-user-—-actual-task" aria-label="Permalink to &quot;Turn 2 (user) — actual task&quot;">​</a></h4><p>We switch to <code>!&lt;o&gt;</code> and ask for a four-section experimental protocol, reusing the same task shape as Exp1:</p><div class="language-text vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>!&lt;o&gt;</span></span>
<span class="line"><span>Now write the actual experimental protocol you outlined.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Constraints:</span></span>
<span class="line"><span>- Audience: technically literate researchers or senior engineers.</span></span>
<span class="line"><span>- Structure the protocol into exactly four titled sections:</span></span>
<span class="line"><span>  1. Goals</span></span>
<span class="line"><span>  2. Threat model &amp; attack surfaces</span></span>
<span class="line"><span>  3. Task suite design</span></span>
<span class="line"><span>  4. Metrics &amp; reporting</span></span>
<span class="line"><span>- Use concise paragraphs and bullet points where helpful.</span></span>
<span class="line"><span>- Make sure the design is realistic for evaluating a code-assistant LLM embedded in an IDE (e.g., code completion, refactoring, explanation).</span></span>
<span class="line"><span>- Do not include any prose outside these four sections.</span></span></code></pre></div><h4 id="turn-3-assistant" tabindex="-1">Turn 3 (assistant) <a class="header-anchor" href="#turn-3-assistant" aria-label="Permalink to &quot;Turn 3 (assistant)&quot;">​</a></h4><p>Expected:</p><p>Header: <code>&lt;o&gt;</code></p><p>Body: the protocol in 4 sections.</p><p>Footer: valid v1.4 footer.</p><p>We stop after this point (2 user turns, 2 assistant turns).</p><hr><h3 id="condition-b-—-user-only-vpp-ambient-nobrowse" tabindex="-1">Condition B — <code>user_only_vpp_ambient_nobrowse</code> <a class="header-anchor" href="#condition-b-—-user-only-vpp-ambient-nobrowse" aria-label="Permalink to &quot;Condition B — `user_only_vpp_ambient_nobrowse`&quot;">​</a></h3><p>Goal: test whether the model spontaneously recognizes tags like <code>!&lt;q&gt;</code> as a protocol without any explanation, and without tools.</p><h4 id="system-message-1" tabindex="-1">System message <a class="header-anchor" href="#system-message-1" aria-label="Permalink to &quot;System message&quot;">​</a></h4><div class="language-text vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>You are a helpful assistant.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Respond to the user&#39;s messages as best you can.</span></span></code></pre></div><h4 id="turn-0-user-—-minimal-ambient-tag" tabindex="-1">Turn 0 (user) — minimal ambient tag <a class="header-anchor" href="#turn-0-user-—-minimal-ambient-tag" aria-label="Permalink to &quot;Turn 0 (user) — minimal ambient tag&quot;">​</a></h4><div class="language-text vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>!&lt;q&gt;</span></span>
<span class="line"><span>test</span></span></code></pre></div><p>There is no mention of “Viable Prompt Protocol”, tags, or footers.</p><h4 id="turn-1-assistant-1" tabindex="-1">Turn 1 (assistant) <a class="header-anchor" href="#turn-1-assistant-1" aria-label="Permalink to &quot;Turn 1 (assistant)&quot;">​</a></h4><p>We record whatever the model does.</p><h4 id="turn-2-user-—-optional-second-probe" tabindex="-1">Turn 2 (user) — optional second probe <a class="header-anchor" href="#turn-2-user-—-optional-second-probe" aria-label="Permalink to &quot;Turn 2 (user) — optional second probe&quot;">​</a></h4><div class="language-text vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>!&lt;o&gt;</span></span>
<span class="line"><span>second test</span></span></code></pre></div><h4 id="turn-3-assistant-1" tabindex="-1">Turn 3 (assistant) <a class="header-anchor" href="#turn-3-assistant-1" aria-label="Permalink to &quot;Turn 3 (assistant)&quot;">​</a></h4><p>Again, we record whatever happens and then end the session. This gives us up to 2 user + 2 assistant turns, enough to detect any within-conversation pattern learning.</p><hr><h3 id="condition-c-—-user-only-vpp-ambient-browse" tabindex="-1">Condition C — user_only_vpp_ambient_browse <a class="header-anchor" href="#condition-c-—-user-only-vpp-ambient-browse" aria-label="Permalink to &quot;Condition C — user_only_vpp_ambient_browse&quot;">​</a></h3><p>Goal: same as Condition B, but with a system message that encourages reflecting on unfamiliar syntax as something to interpret or “research” (without wiring actual tools in this harness).</p><h4 id="system-message-2" tabindex="-1">System message <a class="header-anchor" href="#system-message-2" aria-label="Permalink to &quot;System message&quot;">​</a></h4><div class="language-text vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>You are a helpful assistant.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Respond to the user&#39;s messages as best you can.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>If you encounter unfamiliar syntax such as leading command tags (e.g. `!&lt;q&gt;`), you may actively try to interpret their meaning and adapt your replies accordingly.</span></span></code></pre></div><p>User turns are identical to Condition B:</p><h4 id="turn-0-q-ntest" tabindex="-1">Turn 0: <code>!&lt;q&gt;\ntest</code> <a class="header-anchor" href="#turn-0-q-ntest" aria-label="Permalink to &quot;Turn 0: `!&lt;q&gt;\ntest`&quot;">​</a></h4><h4 id="turn-2-o-nsecond-test" tabindex="-1">Turn 2: <code>!&lt;o&gt;\nsecond test</code> <a class="header-anchor" href="#turn-2-o-nsecond-test" aria-label="Permalink to &quot;Turn 2: `!&lt;o&gt;\nsecond test`&quot;">​</a></h4><h2 id="metrics" tabindex="-1">Metrics <a class="header-anchor" href="#metrics" aria-label="Permalink to &quot;Metrics&quot;">​</a></h2><p>We reuse the Exp1/Exp2 style metrics.</p><p><em>For each condition we compute:</em></p><h3 id="_1-across-all-assistant-turns" tabindex="-1">1. Across all assistant turns: <a class="header-anchor" href="#_1-across-all-assistant-turns" aria-label="Permalink to &quot;1. Across all assistant turns:&quot;">​</a></h3><p>– <code>header_present</code> — fraction of assistant turns where <code>raw_header</code> is non-null, and tag is one of { &quot;g&quot;, &quot;q&quot;, &quot;o&quot;, &quot;c&quot;, &quot;o_f&quot; }.</p><p>– <code>tag_mirrors_user</code> — among assistant turns that have a non-null tag and a preceding user turn with a non-null tag, the fraction where <code>assistant.tag === last_user.tag</code>.</p><p>– <code>footer_present</code> — fraction of assistant turns with non-empty footer.</p><p>– <code>footer_version_v1.4</code> — fraction of assistant turns where <code>parsed_footer?.version === &quot;v1.4&quot;</code>.</p><h3 id="_2-at-session-level-protocol-retention-ok-only-meaningful-for-user-only-vpp-explicit" tabindex="-1">2. At session level: <code>protocol_retention_ok</code> (only meaningful for user_only_vpp_explicit): <a class="header-anchor" href="#_2-at-session-level-protocol-retention-ok-only-meaningful-for-user-only-vpp-explicit" aria-label="Permalink to &quot;2. At session level: `protocol_retention_ok` (only meaningful for user_only_vpp_explicit):&quot;">​</a></h3><p>A session counts as protocol_retention_ok = 1 if:</p><p>– Every assistant turn has a header;</p><p>– Every assistant turn has a footer;</p><p>– Every assistant footer parses as version === &quot;v1.4&quot;.</p><h3 id="_3-additional-lexical-behavioral-metrics-for-the-ambient-conditions" tabindex="-1">3. Additional lexical/behavioral metrics for the ambient conditions: <a class="header-anchor" href="#_3-additional-lexical-behavioral-metrics-for-the-ambient-conditions" aria-label="Permalink to &quot;3. Additional lexical/behavioral metrics for the ambient conditions:&quot;">​</a></h3><p>For each assistant turn, we build <code>text = (raw_header + &quot; &quot; + body + &quot; &quot; + footer).toLowerCase()</code> and define:</p><p>– mentions_vpp if text contains &quot;viable prompt protocol&quot; or &quot;vpp&quot;.</p><p>– mentions_prompt_protocol if text contains &quot;prompt protocol&quot; and &quot;tag&quot;.</p><p><em>At session level:</em> – any_vpp_lexical — session has 1 if any assistant turn satisfies mentions_vpp || mentions_prompt_protocol.</p><p>– any_vpp_behavior — session has 1 if any assistant turn either:</p><p>– Exhibits structural VPP behavior (header_present &amp;&amp; footer_present &amp;&amp; footer_version_v1.4), or</p><p>– Satisfies mentions_vpp.</p><h3 id="we-report" tabindex="-1">We report: <a class="header-anchor" href="#we-report" aria-label="Permalink to &quot;We report:&quot;">​</a></h3><p>– any_vpp_lexical: percentage of sessions where the model ever mentions VPP-like concepts.</p><p>– any_vpp_behavior: percentage of sessions where either structural or lexical VPP behavior appears.</p><hr><h2 id="results" tabindex="-1">Results <a class="header-anchor" href="#results" aria-label="Permalink to &quot;Results&quot;">​</a></h2><h3 id="condition-a-user-only-vpp-explicit" tabindex="-1">Condition A. <code>user_only_vpp_explicit</code> <a class="header-anchor" href="#condition-a-user-only-vpp-explicit" aria-label="Permalink to &quot;Condition A. `user_only_vpp_explicit`&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Condition:</th><th>user_only_vpp_explicit</th></tr></thead><tbody><tr><td>Sessions:</td><td>25</td></tr><tr><td>Assistant turns:</td><td>50</td></tr><tr><td>header_present:</td><td>100.0%</td></tr><tr><td>tag_mirrors_user:</td><td>100.0%</td></tr><tr><td>footer_present:</td><td>100.0%</td></tr><tr><td>footer_version_v1.4:</td><td>100.0%</td></tr><tr><td>protocol_retention_ok:</td><td>100.0%</td></tr></tbody></table><h3 id="summary" tabindex="-1">Summary <a class="header-anchor" href="#summary" aria-label="Permalink to &quot;Summary&quot;">​</a></h3><p>– Even with no system-level VPP header, a short in-chat description of the protocol is enough to achieve:</p><p>– Perfect header usage.</p><p>– Perfect tag mirroring (<code>&lt;g&gt;</code> → <code>&lt;g&gt;</code>, <code>&lt;o&gt;</code> → <code>&lt;o&gt;</code>).</p><p>– Perfect footer presence and v1.4 parsing.</p><p>– No sessions drop the protocol on any turn in this short task.</p><p>In other words: <em>VPP is fully bootstrappable via user-only instructions for this class of tasks. The system message is a convenience, not a hard requirement, as long as the user describes the protocol clearly.</em></p><hr><h3 id="condition-b-user-only-vpp-ambient-nobrowse" tabindex="-1">Condition B. <code>user_only_vpp_ambient_nobrowse</code> <a class="header-anchor" href="#condition-b-user-only-vpp-ambient-nobrowse" aria-label="Permalink to &quot;Condition B. `user_only_vpp_ambient_nobrowse`&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Condition:</th><th>user_only_vpp_ambient_nobrowse</th></tr></thead><tbody><tr><td>Sessions:</td><td>50</td></tr><tr><td>Assistant turns:</td><td>100</td></tr><tr><td>header_present:</td><td>0.0%</td></tr><tr><td>tag_mirrors_user:</td><td>0.0%</td></tr><tr><td>footer_present:</td><td>0.0%</td></tr><tr><td>footer_version_v1.4:</td><td>0.0%</td></tr><tr><td>any_vpp_lexical:</td><td>0.0%</td></tr><tr><td>any_vpp_behavior:</td><td>0.0%</td></tr></tbody></table><h3 id="summary-1" tabindex="-1">Summary <a class="header-anchor" href="#summary-1" aria-label="Permalink to &quot;Summary&quot;">​</a></h3><p>With only <code>!&lt;q&gt;\ntest</code> (and a follow-up <code>!&lt;o&gt;\nsecond test</code>) and no explanation:</p><ol><li><p>The model never emits a VPP-style header or footer.</p></li><li><p>It never mentions “Viable Prompt Protocol” or “VPP”.</p></li><li><p>It never describes the pattern as a “prompt protocol” with tags.</p></li></ol><p>So under a very minimal cue (<code>!&lt;q&gt;</code> on line 1), with a generic system prompt and no tools: <strong>the model does not spontaneously recognize VPP or adopt its structure.</strong></p><hr><h3 id="condition-c-user-only-vpp-ambient-browse" tabindex="-1">Condition C. <code>user_only_vpp_ambient_browse</code> <a class="header-anchor" href="#condition-c-user-only-vpp-ambient-browse" aria-label="Permalink to &quot;Condition C. `user_only_vpp_ambient_browse`&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Condition:</th><th>user_only_vpp_ambient_browse</th></tr></thead><tbody><tr><td>Sessions:</td><td>50</td></tr><tr><td>Assistant turns:</td><td>100</td></tr><tr><td>header_present:</td><td>0.0%</td></tr><tr><td>tag_mirrors_user:</td><td>0.0%</td></tr><tr><td>footer_present:</td><td>0.0%</td></tr><tr><td>footer_version_v1.4:</td><td>0.0%</td></tr><tr><td>any_vpp_lexical:</td><td>0.0%</td></tr><tr><td>any_vpp_behavior:</td><td>0.0%</td></tr></tbody></table><h3 id="summary-2" tabindex="-1">Summary <a class="header-anchor" href="#summary-2" aria-label="Permalink to &quot;Summary&quot;">​</a></h3><p>This condition uses the same user messages as user_only_vpp_ambient_nobrowse, but with a system message that explicitly tells the model it may try to interpret unfamiliar command-like syntax. In this harness we do not wire real browsing/tools; it’s still purely a pretraining + instruction-following test.</p><ol><li><p>Results remain identical to the no-browse condition:</p></li><li><p>No structural VPP behavior.</p></li><li><p>No lexical VPP awareness.</p></li></ol><p>At this stage, under these minimal conditions: ambient tags like <code>!&lt;q&gt;\ntest</code> are not sufficient to trigger VPP-style behavior or even an explicit recognition of a tag+footer protocol.</p><h2 id="interpretation" tabindex="-1">Interpretation <a class="header-anchor" href="#interpretation" aria-label="Permalink to &quot;Interpretation&quot;">​</a></h2><p>Taken together, Exp1b shows:</p><ol><li><p>Within a session, VPP is easy to instantiate from user-only instructions:</p></li><li><p>Once a power user explains the protocol in a short message, structural adherence becomes effectively perfect in this task family.</p></li><li><p>Across sessions, VPP is not yet “ambiently known”: A cold chat that begins with <code>!&lt;q&gt;\ntest</code>, with no explanation, produces 0% VPP-like behavior under both no-browse and browse-flavored system prompts.</p></li></ol><p>This sets up a clean baseline for future work: if future model versions or pretraining runs begin to exhibit non-zero VPP behavior under <code>!&lt;q&gt;\ntest</code>, that would be evidence that VPP has diffused into the pretraining distribution or auxiliary training pipelines. For now, we are clearly in a pre-diffusion regime: VPP must be explicitly introduced (via system or user) to be realized.</p><h2 id="notes" tabindex="-1">Notes <a class="header-anchor" href="#notes" aria-label="Permalink to &quot;Notes&quot;">​</a></h2><ul><li>Ambient conditions send minimal content (e.g., <code>!&lt;q&gt;\ntest</code>) to observe whether the assistant mirrors tags without being explicitly instructed.</li><li>The runner also defines logic for an explicit-instruction condition, which can be activated by adding matching entries to <code>configs.jsonl</code>.</li></ul></div></div></main><footer class="VPDocFooter" data-v-83890dd9 data-v-4f9813fa><!--[--><!--]--><div class="edit-info" data-v-4f9813fa><!----><div class="last-updated" data-v-4f9813fa><p class="VPLastUpdated" data-v-4f9813fa data-v-475f71b8>Last updated: <time datetime="2025-11-15T18:33:44.000Z" data-v-475f71b8></time></p></div></div><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-4f9813fa><span class="visually-hidden" id="doc-footer-aria-label" data-v-4f9813fa>Pager</span><div class="pager" data-v-4f9813fa><a class="VPLink link pager-link prev" href="/viable-prompt-protocol/experiments/exp-02.html" data-v-4f9813fa><!--[--><span class="desc" data-v-4f9813fa>Previous page</span><span class="title" data-v-4f9813fa>Exp-02</span><!--]--></a></div><div class="pager" data-v-4f9813fa><a class="VPLink link pager-link next" href="/viable-prompt-protocol/experiments/exp-03.html" data-v-4f9813fa><!--[--><span class="desc" data-v-4f9813fa>Next page</span><span class="title" data-v-4f9813fa>Exp-03</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"changelog.md\":\"CnoBENFW\",\"corpus_index.md\":\"DnMWHcZD\",\"corpus_session.md\":\"Bmi5m5Ry\",\"experiments_exp-01.md\":\"qRO_TcJn\",\"experiments_exp-01b.md\":\"qy6EdQBW\",\"experiments_exp-02.md\":\"DJal0f17\",\"experiments_exp-03.md\":\"B6N04uUW\",\"experiments_exp-04.md\":\"SKpQouPh\",\"experiments_exp-05.md\":\"DzDmmX7K\",\"experiments_exp-06.md\":\"xzRGaRjL\",\"experiments_index.md\":\"Dp7q5oj0\",\"experiments_summary-01.md\":\"D03_qHxv\",\"experiments_summary-02.md\":\"BlYBgiHz\",\"faq_index.md\":\"DDlNTqTZ\",\"guide_index.md\":\"BYxBCb3m\",\"index.md\":\"DPA3Mjoh\",\"spec_index.md\":\"DeMqiZG2\",\"validator_index.md\":\"K2_nicxh\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"Viable Prompt Protocol (VPP)\",\"description\":\"A tag-first protocol for structuring multi-turn conversations between humans and LLMs.\",\"base\":\"/viable-prompt-protocol/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"nav\":[{\"text\":\"Home\",\"link\":\"/\"},{\"text\":\"Spec\",\"link\":\"/spec/\"},{\"text\":\"Guide\",\"link\":\"/guide/\"},{\"text\":\"Experiments\",\"link\":\"/experiments/\"},{\"text\":\"Corpus\",\"link\":\"/corpus/\"},{\"text\":\"Validator & CI\",\"link\":\"/validator/\"},{\"text\":\"Changelog\",\"link\":\"/changelog/\"},{\"text\":\"FAQ\",\"link\":\"/faq/\"}],\"sidebar\":{\"/spec/\":[{\"text\":\"Specification\",\"items\":[{\"text\":\"Introduction\",\"link\":\"/spec/#introduction\"},{\"text\":\"Scope and terminology\",\"link\":\"/spec/#scope-and-terminology\"},{\"text\":\"Command line grammar\",\"link\":\"/spec/#command-line-grammar\"},{\"text\":\"Tags\",\"link\":\"/spec/#tags\"},{\"text\":\"Modifiers\",\"link\":\"/spec/#modifiers\"},{\"text\":\"Pipelines and loci\",\"link\":\"/spec/#pipelines-and-loci\"},{\"text\":\"Error modes and recovery\",\"link\":\"/spec/#error-modes-and-recovery\"},{\"text\":\"Compliance footer\",\"link\":\"/spec/#compliance-footer\"},{\"text\":\"Examples\",\"link\":\"/spec/#examples\"},{\"text\":\"Versioning\",\"link\":\"/spec/#versioning\"}]}],\"/guide/\":[{\"text\":\"Guide\",\"items\":[{\"text\":\"Tags and loci\",\"link\":\"/guide/#tags-and-loci\"},{\"text\":\"Modifiers\",\"link\":\"/guide/#modifiers\"},{\"text\":\"Pipelines and cycles\",\"link\":\"/guide/#pipelines-and-cycles\"},{\"text\":\"Error modes\",\"link\":\"/guide/#error-modes\"},{\"text\":\"Implementation notes\",\"link\":\"/guide/#implementation-notes\"}]}],\"/experiments/\":[{\"text\":\"Experiments\",\"items\":[{\"text\":\"Overview\",\"link\":\"/experiments/\"},{\"text\":\"Exp-01\",\"link\":\"/experiments/exp-01\"},{\"text\":\"Exp-02\",\"link\":\"/experiments/exp-02\"},{\"text\":\"Exp-01b\",\"link\":\"/experiments/exp-01b\"},{\"text\":\"Exp-03\",\"link\":\"/experiments/exp-03\"},{\"text\":\"Summary I: Exp01-03\",\"link\":\"/experiments/summary-01\"},{\"text\":\"Exp-04\",\"link\":\"/experiments/exp-04\"},{\"text\":\"Exp-05\",\"link\":\"/experiments/exp-05\"},{\"text\":\"Exp-06\",\"link\":\"/experiments/exp-06\"},{\"text\":\"Summary II: Exp04-06\",\"link\":\"/experiments/summary-02\"}]}],\"/corpus/\":[{\"text\":\"Corpus\",\"items\":[{\"text\":\"Overview\",\"link\":\"/corpus/\"}]}],\"/validator/\":[{\"text\":\"Validator & CI\",\"items\":[{\"text\":\"Checks\",\"link\":\"/validator/\"}]}]}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>